
<!DOCTYPE HTML>
  <html>
  <head>
    <title>Barcode Scanner DEMO</title>

    <script src="lib/jquery.js"></script>      
    <script src="js/app.js"></script>
    <script src="cordova.js"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <script type="text/javascript">
      function scanBarcode() {
        cordova.plugins.barcodeScanner.scan( function(result) {
                alert("We got a barcode\n" +
                          "Result: " + result.text + "\n" +
                          "Format: " + result.format + "\n" +
                          "Cancelled: " + result.cancelled);
                console.log(result.text);
                getData(result.text);
            }, function(error) {
                alert("Scanning failed: " + error);
            }
      );
          

      }
        function getData(id) {
                console.log("run function");
              $.ajax({
                url: 'http://b2b.webili.ir/web_service/get_data/?action=test&id='+id,
                data: {},
                success: function(data) {
                    console.log("success " + data);
                    alert(data);
                },
                error: function (xhr, ajaxOptions, thrownError) {
                    alert(xhr.status);
                    alert(thrownError);
                }
                })
          }
    </script>
  </head>

  <body>
    <hr> BarcodeReader DEMO <hr><br>
    <input type="button" onClick ="scanBarcode()" value ="Scan" />
  </body>
  </html>